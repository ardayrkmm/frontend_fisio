# ğŸ“Š ACCURACY FEATURE - VISUAL DIAGRAM & FLOW\n\n## 1ï¸âƒ£ STATE MANAGEMENT ARCHITECTURE\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                    ExerciseState                            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                             â”‚\nâ”‚  EXISTING FIELDS:                                          â”‚\nâ”‚  - cameraController                                        â”‚\nâ”‚  - latihanData                                             â”‚\nâ”‚  - repetition, set, timer                                  â”‚\nâ”‚  - status, isRunning, isPaused                             â”‚\nâ”‚  - poseResult, isPoseDetectionEnabled                      â”‚\nâ”‚                                                             â”‚\nâ”‚  âœ¨ NEW FIELDS (ACCURACY TRACKING):                        â”‚\nâ”‚  - currentAccuracy: 0.85       (Latest reading)            â”‚\nâ”‚  - averageAccuracy: 0.82       (Running average)           â”‚\nâ”‚  - accuracyHistory: [0.85, 0.87, ...] (All readings)       â”‚\nâ”‚  - correctPoseCount: 12        (Correct detections)        â”‚\nâ”‚  - totalPoseCount: 15          (Total detections)          â”‚\nâ”‚                                                             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n`\n\n---\n\n## 2ï¸âƒ£ EVENT FLOW DIAGRAM\n\n`\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘              EXERCISE EVENT HIERARCHY                       â•‘\nâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\nâ•‘                                                             â•‘\nâ•‘  ExerciseEvent (Abstract)                                   â•‘\nâ•‘      â”œâ”€â”€ InitCamera                                         â•‘\nâ•‘      â”œâ”€â”€ DisposeCamera                                      â•‘\nâ•‘      â”œâ”€â”€ StartExercise                                      â•‘\nâ•‘      â”œâ”€â”€ PauseExercise                                      â•‘\nâ•‘      â”œâ”€â”€ ResumeExercise                                     â•‘\nâ•‘      â”œâ”€â”€ IncrementRepetition                                â•‘\nâ•‘      â”œâ”€â”€ IncrementSet                                       â•‘\nâ•‘      â”œâ”€â”€ UpdateTimer                                        â•‘\nâ•‘      â”œâ”€â”€ CompleteExercise                                   â•‘\nâ•‘      â”œâ”€â”€ FailExercise                                       â•‘\nâ•‘      â”œâ”€â”€ NextExercise                                       â•‘\nâ•‘      â”œâ”€â”€ PoseDetected                                       â•‘\nâ•‘      â”œâ”€â”€ TogglePoseDetection                                â•‘\nâ•‘      â”œâ”€â”€ ToggleUI                                           â•‘\nâ•‘      â””â”€â”€ âœ¨ UpdateAccuracy â† NEW EVENT                      â•‘\nâ•‘             - accuracy: double (0.0-1.0)                   â•‘\nâ•‘             - isCorrectPose: bool                           â•‘\nâ•‘                                                             â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`\n\n---\n\n## 3ï¸âƒ£ BLOC EVENT HANDLER FLOW\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚           ExerciseBloc Event Handlers                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                              â”‚\nâ”‚  on<InitCamera>          â†’ _onInitCamera()                  â”‚\nâ”‚  on<DisposeCamera>       â†’ _onDisposeCamera()               â”‚\nâ”‚  on<StartExercise>       â†’ _onStartExercise()               â”‚\nâ”‚  on<PauseExercise>       â†’ _onPauseExercise()               â”‚\nâ”‚  on<ResumeExercise>      â†’ _onResumeExercise()              â”‚\nâ”‚  on<IncrementRepetition> â†’ _onIncrementRepetition()         â”‚\nâ”‚  on<IncrementSet>        â†’ _onIncrementSet()                â”‚\nâ”‚  on<UpdateTimer>         â†’ _onUpdateTimer()                 â”‚\nâ”‚  on<CompleteExercise>    â†’ _onCompleteExercise()            â”‚\nâ”‚  on<FailExercise>        â†’ _onFailExercise()                â”‚\nâ”‚  on<NextExercise>        â†’ _onNextExercise()                â”‚\nâ”‚  on<PoseDetected>        â†’ _onPoseDetected()                â”‚\nâ”‚  on<TogglePoseDetection> â†’ _onTogglePoseDetection()         â”‚\nâ”‚  on<ToggleUI>            â†’ _onToggleUI()                    â”‚\nâ”‚  on<UpdateAccuracy>      â†’ _onUpdateAccuracy() âœ¨ NEW       â”‚\nâ”‚                                                              â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n`\n\n---\n\n## 4ï¸âƒ£ DATA FLOW: FROM DETECTION TO UI\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 1: POSE DETECTION                                          â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                 â”‚\nâ”‚  Camera Feed â†’ MediaPipe Pose Detection â†’ TFLite Classificationâ”‚\nâ”‚        â†“                                          â†“              â”‚\nâ”‚     Raw video                            Confidence Score       â”‚\nâ”‚                                          (0.0 - 1.0)            â”‚\nâ”‚                                                                 â”‚\nâ”‚                            â†“                                    â”‚\nâ”‚                     PoseResult {                                â”‚\nâ”‚                       confidence: 0.85,                         â”‚\nâ”‚                       isCorrect: true,                          â”‚\nâ”‚                       pose: Pose(...),                          â”‚\nâ”‚                       landmarks: [...],                         â”‚\nâ”‚                       ...                                       â”‚\nâ”‚                     }                                           â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 2: TRIGGER ACCURACY UPDATE                                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                 â”‚\nâ”‚  _TriggerAccuracyUpdate Widget                                 â”‚\nâ”‚    â€¢ Watches: state.poseResult                                 â”‚\nâ”‚    â€¢ Detects: Change in PoseResult                             â”‚\nâ”‚    â€¢ Action: Call didUpdateWidget()                            â”‚\nâ”‚                                                                 â”‚\nâ”‚                            â†“                                    â”‚\nâ”‚                   Check: poseResult changed?                   â”‚\nâ”‚                     Yes â†“                                       â”‚\nâ”‚                                                                 â”‚\nâ”‚          context.read<ExerciseBloc>().add(                     â”‚\nâ”‚            UpdateAccuracy(                                     â”‚\nâ”‚              accuracy: poseResult.confidence,  // 0.85        â”‚\nâ”‚              isCorrectPose: poseResult.isCorrect // true      â”‚\nâ”‚            )                                                   â”‚\nâ”‚          )                                                     â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 3: PROCESS IN BLOC                                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                 â”‚\nâ”‚  ExerciseBloc._onUpdateAccuracy()                              â”‚\nâ”‚                                                                 â”‚\nâ”‚  1. Clamp accuracy: accuracy.clamp(0.0, 1.0)                   â”‚\nâ”‚                                                                 â”‚\nâ”‚  2. Update history:                                            â”‚\nâ”‚     accuracyHistory = [...old values, 0.85]                   â”‚\nâ”‚                                                                 â”‚\nâ”‚  3. Calculate average:                                         â”‚\nâ”‚     sum = 0.85 + 0.87 + 0.82 + 0.84 = 3.38                   â”‚\nâ”‚     average = 3.38 / 4 = 0.845                                â”‚\nâ”‚                                                                 â”‚\nâ”‚  4. Update correct count:                                      â”‚\nâ”‚     if (isCorrectPose) correctPoseCount++                      â”‚\nâ”‚     totalPoseCount++                                           â”‚\nâ”‚                                                                 â”‚\nâ”‚  5. Emit new state:                                            â”‚\nâ”‚     emit(state.copyWith(                                       â”‚\nâ”‚       currentAccuracy: 0.85,                                   â”‚\nâ”‚       averageAccuracy: 0.845,                                  â”‚\nâ”‚       accuracyHistory: [0.85, 0.87, 0.82, 0.84, 0.85],        â”‚\nâ”‚       correctPoseCount: 4,                                     â”‚\nâ”‚       totalPoseCount: 5,                                       â”‚\nâ”‚     ))                                                         â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                            â†“\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ STEP 4: UI UPDATE                                              â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                 â”‚\nâ”‚  BlocBuilder/BlocListener detects state change                 â”‚\nâ”‚                          â†“                                      â”‚\nâ”‚  _AccuracyCard widget rebuild                                  â”‚\nâ”‚                          â†“                                      â”‚\nâ”‚  1. Get color from accuracy:                                   â”‚\nâ”‚     0.85 >= 0.80 â†’ Colors.green                               â”‚\nâ”‚                          â†“                                      â”‚\nâ”‚  2. Get status text:                                           â”‚\nâ”‚     0.85 >= 0.85 â†’ \"Sempurna âœ“\"                               â”‚\nâ”‚                          â†“                                      â”‚\nâ”‚  3. Build UI:                                                  â”‚\nâ”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚\nâ”‚     â”‚ ğŸ“Š Akurasi Gerakan  [Sempurna âœ“]    â”‚                  â”‚\nâ”‚     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                  â”‚\nâ”‚     â”‚ Akurasi Saat Ini                     â”‚                  â”‚\nâ”‚     â”‚ 85.0%  / 100%                        â”‚                  â”‚\nâ”‚     â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ (Green Bar)    â”‚                  â”‚\nâ”‚     â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                  â”‚\nâ”‚     â”‚ Rata-rata: 84.5%  | Benar: 4/5      â”‚                  â”‚\nâ”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚\nâ”‚                                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n`\n\n---\n\n## 5ï¸âƒ£ COLOR STATE MACHINE\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚       ACCURACY COLOR STATE TRANSITIONS                  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                         â”‚\nâ”‚                                                         â”‚\nâ”‚                   Current Accuracy Value                â”‚\nâ”‚                                                         â”‚\nâ”‚  0% â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 100%    â”‚\nâ”‚  â”‚                                               â”‚     â”‚\nâ”‚  â”‚ ğŸ”´      â”‚ ğŸŸ       â”‚ ğŸŸ       â”‚ ğŸŸ¢      â”‚ ğŸŸ¢  â”‚     â”‚\nâ”‚  â”‚         â”‚         â”‚         â”‚         â”‚      â”‚     â”‚\nâ”‚  0%        50%       60%       70%       85%   100%   â”‚\nâ”‚                                                         â”‚\nâ”‚  â”œâ”€ Perlu Perbaikan                                   â”‚\nâ”‚  â”œâ”€ Cukup                                             â”‚\nâ”‚  â”œâ”€ Bagus âœ“                                           â”‚\nâ”‚  â””â”€ Sempurna âœ“                                        â”‚\nâ”‚                                                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n\nColor Mapping:\n  < 50%  â†’ RED        (Perlu Perbaikan)\n  50-60% â†’ DEEP ORANGE (Perlu Perbaikan)\n  60-70% â†’ ORANGE     (Cukup)\n  70+%   â†’ GREEN      (Bagus/Sempurna)\n`\n\n---\n\n## 6ï¸âƒ£ ACCURACY CALCULATION LOGIC\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚          RUNNING AVERAGE CALCULATION                   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                         â”‚\nâ”‚  Time   â”‚ Current â”‚ History              â”‚ Average      â”‚\nâ”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚\nâ”‚  t=0    â”‚    -    â”‚ []                   â”‚    -         â”‚\nâ”‚  t=1    â”‚  0.85   â”‚ [0.85]               â”‚  0.85        â”‚\nâ”‚  t=2    â”‚  0.87   â”‚ [0.85, 0.87]         â”‚  0.86        â”‚\nâ”‚  t=3    â”‚  0.82   â”‚ [0.85, 0.87, 0.82]   â”‚  0.85        â”‚\nâ”‚  t=4    â”‚  0.84   â”‚ [0.85, 0.87, 0.82,   â”‚  0.845       â”‚\nâ”‚         â”‚         â”‚  0.84]               â”‚              â”‚\nâ”‚  t=5    â”‚  0.90   â”‚ [0.85, 0.87, 0.82,   â”‚  0.858       â”‚\nâ”‚         â”‚         â”‚  0.84, 0.90]         â”‚              â”‚\nâ”‚  ...    â”‚  ...    â”‚ ...                  â”‚  ...         â”‚\nâ”‚                                                         â”‚\nâ”‚  Formula: Average = Sum(all readings) / Count(readings)â”‚\nâ”‚                                                         â”‚\nâ”‚  At t=5: (0.85 + 0.87 + 0.82 + 0.84 + 0.90) / 5      â”‚\nâ”‚        = 4.28 / 5                                      â”‚\nâ”‚        = 0.856                                         â”‚\nâ”‚        â‰ˆ 85.6%                                         â”‚\nâ”‚                                                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n`\n\n---\n\n## 7ï¸âƒ£ CORRECT POSE COUNTER LOGIC\n\n`\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚       CORRECT POSE COUNTING                            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                         â”‚\nâ”‚  Detection â”‚ Accuracy â”‚ Correct? â”‚ Count â”‚ Total â”‚ %  â”‚\nâ”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚\nâ”‚     1      â”‚  0.85    â”‚   âœ“      â”‚   1   â”‚   1   â”‚100% â”‚\nâ”‚     2      â”‚  0.87    â”‚   âœ“      â”‚   2   â”‚   2   â”‚100% â”‚\nâ”‚     3      â”‚  0.35    â”‚   âœ—      â”‚   2   â”‚   3   â”‚67%  â”‚\nâ”‚     4      â”‚  0.82    â”‚   âœ“      â”‚   3   â”‚   4   â”‚75%  â”‚\nâ”‚     5      â”‚  0.45    â”‚   âœ—      â”‚   3   â”‚   5   â”‚60%  â”‚\nâ”‚                                                         â”‚\nâ”‚  Logic:                                                 â”‚\nâ”‚  if (event.isCorrectPose)                             â”‚\nâ”‚    correctPoseCount++                                  â”‚\nâ”‚  totalPoseCount++                                      â”‚\nâ”‚                                                         â”‚\nâ”‚  Display: \"3/5\" means 3 correct out of 5 total       â”‚\nâ”‚                                                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n`\n\n---\n\n## 8ï¸âƒ£ WIDGET TREE STRUCTURE\n\n`\nExerciseCameraPage\n  â””â”€â”€ BlocProvider<ExerciseBloc>\n      â””â”€â”€ Scaffold\n          â””â”€â”€ Stack\n              â”œâ”€â”€ _CameraView\n              â”‚   â””â”€â”€ CameraPreview + PosePainter\n              â”œâ”€â”€ _TopBar\n              â”‚   â”œâ”€â”€ Exercise name\n              â”‚   â”œâ”€â”€ Toggle buttons\n              â”‚   â””â”€â”€ Play/Pause button\n              â”œâ”€â”€ _BottomInfo  (if visible)\n              â”‚   â”œâ”€â”€ Timer (large)\n              â”‚   â”œâ”€â”€ âœ¨ _AccuracyCard (NEW)\n              â”‚   â”‚   â”œâ”€â”€ Header\n              â”‚   â”‚   â”œâ”€â”€ Current accuracy + progress\n              â”‚   â”‚   â””â”€â”€ Stats row (average + correct)\n              â”‚   â”œâ”€â”€ PoseFeedbackWidget\n              â”‚   â”œâ”€â”€ âœ¨ _TriggerAccuracyUpdate (NEW)\n              â”‚   â”œâ”€â”€ Info cards (rep, set, status)\n              â”‚   â””â”€â”€ Action buttons\n              â””â”€â”€ _CompletionOverlay (if done)\n                  â”œâ”€â”€ Icon\n                  â”œâ”€â”€ Status text\n                  â”œâ”€â”€ Total time âœ¨ + Accuracy (NEW)\n                  â””â”€â”€ Kembali button\n`\n\n---\n\n## 9ï¸âƒ£ COMPLETE SEQUENCE DIAGRAM\n\n`\nUser              Pose Detection    _Trigger      BLoC          State         UI\nâ”€â”€â”€â”€â”€             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”€â”€\n  â”‚                    â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ Start Exercise      â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ Pose detected       â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ (confidence: 0.85)  â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                Emit PoseResult         â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚          didUpdateWidget()   â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ UpdateAcc.  â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ rebuild   â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚ _onUpdate() â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”œâ”€â”€â”€â”€â”        â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚    â””â”€ calc  â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚       avg   â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ Display   â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ Accuracy  â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ (Pose detected)     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ (accuracy: 0.87)    â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ Update    â”‚\n  â”‚                Emit PoseResult â”€â”€â”€â”€â”€â”€> â”‚ NEW       â”‚ UpdateAcc   â”‚ again     â”‚\n  â”‚                     â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”‚ Exercise Complete   â”‚                  â”‚           â”‚             â”‚           â”‚\n  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ Final     â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ accuracy: â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚ 84.5%     â”‚\n  â”‚                     â”‚                  â”‚           â”‚             â”‚           â”‚\n`\n\n---\n\n## ğŸ”Ÿ FILE DEPENDENCIES\n\n`\nLatihanPages.dart (Presentation)\n    â”œâ”€â”€ imports Latihan_bloc.dart\n    â”œâ”€â”€ imports Latihan_state.dart\n    â”œâ”€â”€ imports Latihan_event.dart\n    â”œâ”€â”€ imports pose_result.dart\n    â””â”€â”€ uses ExerciseBloc to:\n        â”œâ”€â”€ emit UpdateAccuracy events\n        â”œâ”€â”€ read state.currentAccuracy\n        â”œâ”€â”€ read state.averageAccuracy\n        â”œâ”€â”€ read state.correctPoseCount\n        â””â”€â”€ read state.totalPoseCount\n\nLatihan_bloc.dart (Business Logic)\n    â”œâ”€â”€ imports Latihan_state.dart\n    â”œâ”€â”€ imports Latihan_event.dart\n    â”œâ”€â”€ handles on<UpdateAccuracy>\n    â””â”€â”€ calculates accuracy values\n\nLatihan_state.dart (State Model)\n    â”œâ”€â”€ contains accuracy fields\n    â”œâ”€â”€ accuracy getters/setters\n    â””â”€â”€ equals/hash override\n\nLatihan_event.dart (Events)\n    â””â”€â”€ defines UpdateAccuracy event\n\npose_result.dart (Data Model)\n    â””â”€â”€ source of confidence value\n`\n\n---\n\n**Visual diagrams complete - Ready for implementation!** âœ…\n"
